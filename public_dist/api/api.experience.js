let path=require("path"),fs=require("fs"),UserModel=require("../model/user").UserModel;function ExperienceDelete(n,s){try{var r=new Date,t=new Date,i=(t.setHours(n,s,0,0),t<r&&t.setDate(t.getDate()+1),t-r);let e=setTimeout(()=>{UserModel.find({isExperience:!0}).then(t=>{0<t.length&&UserModel.deleteMany({isExperience:!0}).then(()=>{for(var e of t){var r=path.join(__dirname,"..","..","/"+process.env.FILE_DIRECTORY_NAME),r=path.join(r,e.id);fs.existsSync(r)&&fs.rmSync(r,{recursive:!0,force:!0}),logAtSpecificTime(n,s)}})}),e=null},i)}catch(e){console.log(new Date+" : 체험유저 삭제 에러")}}module.exports=ExperienceDelete;// build date : 2024. 12. 18. 오후 2:28:53