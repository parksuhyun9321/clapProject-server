let router=require("express").Router(),RequestToId=require("../api/api.auth").RequestToId,{getResume,addResume,updateResume,deleteResume}=require("../api/api.resume"),dataDecrypt=require("../util/crpyto").dataDecrypt;router.get("/api/resume/get",async(e,t)=>{try{var{offset:a,limit:r}=e.query,s=RequestToId(e),u=await getResume(s,a,r);t.status(200).send(u)}catch(e){}}),router.post("/api/resume/add",async(e,t)=>{try{var a=RequestToId(e),r=dataDecrypt(e.body.data),s=await addResume(a,r);t.status(200).send(s)}catch(e){console.log(e,"err")}}),router.post("/api/resume/update",async(e,t)=>{try{var a=RequestToId(e),r=dataDecrypt(e.body.data),s=await updateResume(a,r);t.status(200).send(s)}catch(e){}}),router.post("/api/resume/delete",async(e,t)=>{try{var a=RequestToId(e),r=dataDecrypt(e.body.data).resumeId,s=await deleteResume(a,r);t.status(200).send(s)}catch(e){console.log("err",e)}}),module.exports=router;// build date : 2024. 12. 13. 오전 10:11:20