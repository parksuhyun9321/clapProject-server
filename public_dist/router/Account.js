let{Register,Login,Logout,IdSearch,PwSearch,PwChange,Withdrawal}=require("../api/api.account"),{GetToken,RequestToId}=require("../api/api.auth"),dataDecrypt=require("../util/crpyto").dataDecrypt,router=require("express").Router();router.post("/api/account/register",async(a,t)=>{try{var e=a.body.data,r=dataDecrypt(e),c=await Register(r);t.status(200).send(c)}catch(a){t.status(400).send(a)}}),router.post("/api/account/login",async(a,t)=>{try{var e=a.body.data,{id:r,pw:c}=dataDecrypt(e),o=await Login(r,c);t.status(200).send(o)}catch(a){t.status(400).send(a)}}),router.post("/api/account/idSearch",async(a,t)=>{try{var e=a.body.data,r=dataDecrypt(e),c=await IdSearch(r);t.status(200).send(c)}catch(a){}}),router.post("/api/account/pwSearch",async(a,t)=>{try{var e=a.body.data,r=dataDecrypt(e),c=await PwSearch(r);console.log("result",c),t.status(200).send(c)}catch(a){}}),router.post("/api/account/pwChange",async(a,t)=>{try{var e=a.body.data,r=dataDecrypt(e),c=await PwChange(r);t.status(200).send(c)}catch(a){console.log("err",a)}}),router.get("/api/account/logout",async(a,t)=>{try{var e=GetToken(a),r=await Logout(e);t.status(200).send(r)}catch(a){}}),router.get("/api/account/withdrawal",async(a,t)=>{try{var e=RequestToId(a),r=await Withdrawal(e);t.status(200).send(r)}catch(a){}}),module.exports=router;// build date : 2024. 12. 13. 오전 10:11:20