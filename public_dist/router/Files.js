let router=require("express").Router(),RequestToId=require("../api/api.auth").RequestToId,{FileUpload2,FilesDelete,FileDownload}=require("../api/api.file");router.post("/api/files/swiperData",async(e,t)=>{try{var a=e.files,s=RequestToId(e),i=await FileUpload2("file",s,a);t.status(200).send(i)}catch(e){t.status(400).send(e)}}),router.post("/api/files/attachedFiles",async(e,t)=>{try{var a=e.files,s=RequestToId(e),i=await FileUpload2("file",s,a);t.status(200).send(i)}catch(e){t.status(400).send(e)}}),router.post("/api/files/deleteFiles",async(e,t)=>{try{var a=RequestToId(e),s=e.body,i=await FilesDelete(a,s);t.status(200).send(i)}catch(e){t.status(400).send(e)}}),router.post("/api/files/download",async(e,t)=>{try{var a=RequestToId(e),s=e.body.fileName;(await FileDownload(a,s)).pipe(t)}catch(e){console.log(e,"file router download error")}}),module.exports=router;// build date : 2024. 12. 13. 오전 10:11:20